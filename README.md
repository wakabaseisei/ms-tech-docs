# ğŸ“˜ MSãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

æœ¬ãƒªãƒã‚¸ãƒˆãƒªã¯ã€MSãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é–¢é€£ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒªãƒã‚¸ãƒˆãƒªã§ã™ã€‚  
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§æ§‹æˆã•ã‚Œã¦ãŠã‚Šã€ã‚¤ãƒ³ãƒ•ãƒ©ã‹ã‚‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¾ã§ä¸€è²«ã—ã¦IaCãƒ»GitOpsã®æ€æƒ³ã«åŸºã¥ã„ã¦æ§‹ç¯‰ã•ã‚Œã¦ã„ã¾ã™ã€‚

---

## ğŸ“Œ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“åƒ

### ğŸ“ ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆå›³

![ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆå›³](https://github.com/user-attachments/assets/eb7e36c9-35f8-40d2-867f-6fb063f682f8)

> è©³ç´°ã¯ [`ms-infra`](https://github.com/wakabaseisei/ms-infra) ã‚’å‚ç…§ã€‚

### ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹æ§‹æˆå›³
TBW

### ä½¿ç”¨æŠ€è¡“
| åˆ†é¡      | æŠ€è¡“                                                                                                     | è£œè¶³                                  |
| ------- | ------------------------------------------------------------------------------------------------------ | ----------------------------------- |
| ã‚¤ãƒ³ãƒ•ãƒ©    | AWSï¼ˆEKS, ALB, CloudFront, Aurora MySQL Serverless v2, Lambda, Secrets Manager, S3, ECR, VPC Endpointsï¼‰ | Terraformã§ç®¡ç†                        |
| IaC     | Terraform                                                                                              ||
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£  | IAM, OIDCé€£æºï¼ˆGitHub Actionsï¼‰, IRSAï¼ˆIAM Roles for Service Accountsï¼‰                                      | Podãƒ»CIå˜ä½ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚’å®Ÿç¾                  |
| CI/CD   | GitHub Actions, ArgoCD                                                                                 | ECRãƒ—ãƒƒã‚·ãƒ¥ã€K8sãƒªã‚½ãƒ¼ã‚¹è‡ªå‹•åæ˜                  |
| ã‚³ãƒ³ãƒ†ãƒŠåŸºç›¤  | Kubernetesï¼ˆEKSï¼‰                                                                                        | ArgoCDã«ã‚ˆã‚‹GitOpsé‹ç”¨ã€Helmã§å°å…¥           |
| é€šä¿¡ãƒ—ãƒ­ãƒˆã‚³ãƒ« | Connect                                                                                                | Protobufãƒ™ãƒ¼ã‚¹ã®é«˜é€Ÿãƒ»å‹å®‰å…¨ãªé€šä¿¡               |
| APIå®šç¾©   | Protobufï¼ˆBufï¼‰                                                                                          | `ms-protobuf`ãƒªãƒã‚¸ãƒˆãƒªã§ä¸€å…ƒç®¡ç†             |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | Reactï¼ˆSPAï¼‰                                                                                             | S3 + CloudFrontã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°              |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰  | Go                                                                                                     | BFFãƒ»ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã¨ã‚‚ã«Goè£½                  |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹  | Aurora MySQL Serverless v2                                                                             | IAMèªè¨¼ã€Secrets Managerã§ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç®¡ç†       |


---

## ğŸ“‚ ãƒªãƒã‚¸ãƒˆãƒªæ§‹æˆ

### ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†

| ãƒªãƒã‚¸ãƒˆãƒªå | èª¬æ˜ |
|---|---|
| [`ms-infra`](https://github.com/wakabaseisei/ms-infra) | Terraformã‚’ç”¨ã„ã¦AWSã‚¤ãƒ³ãƒ•ãƒ©ã‚’ã‚³ãƒ¼ãƒ‰ã§ç®¡ç†ã€‚EKS, Aurora, CloudFrontç­‰ã®æ§‹æˆã€‚ |
| [`ms-kubernetes`](https://github.com/wakabaseisei/ms-kubernetes) | Kubernetesã®ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆï¼ˆDeployment, Service, Ingressç­‰ï¼‰ã‚’GitOpsçš„ã«ç®¡ç†ã€‚ArgoCDå¯¾å¿œã€‚ |

### APIã‚¹ã‚­ãƒ¼ãƒå®šç¾©

| ãƒªãƒã‚¸ãƒˆãƒªå | èª¬æ˜ |
|---|---|
| [`ms-protobuf`](https://github.com/wakabaseisei/ms-protobuf) | Connectç”¨ã®APIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹Protobufã‚¹ã‚­ãƒ¼ãƒã‚’ç®¡ç†ã€‚ |

### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

| ãƒªãƒã‚¸ãƒˆãƒªå | èª¬æ˜ |
|---|---|
| [`ms-web`](https://github.com/wakabaseisei/ms-web) | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®SPAã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚Reactãƒ™ãƒ¼ã‚¹ã€‚ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã¯S3ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã€‚ |
| [`api-front`](https://github.com/wakabaseisei/api-front) | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ç›´æ¥é€šä¿¡ã™ã‚‹BFFï¼ˆBackends for Frontendsï¼‰ã€‚ |
| [`ms-user`](https://github.com/wakabaseisei/ms-user) | ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’ç®¡ç†ã™ã‚‹ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã€‚Aurora MySQL Serverless v2ã«æ¥ç¶šã—ã€IAMèªè¨¼ã§ã‚»ã‚­ãƒ¥ã‚¢ã«æ¥ç¶šã€‚ |

### è£œåŠ©ãƒ„ãƒ¼ãƒ«

| ãƒªãƒã‚¸ãƒˆãƒªå | èª¬æ˜ |
|---|---|
| [`ms-db-user-generator`](https://github.com/wakabaseisei/ms-db-user-generator) | Auroraã®DBãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®Lambdaãƒ„ãƒ¼ãƒ«ã€‚Terraformã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»å®Ÿè¡Œã•ã‚Œã‚‹ã€‚ |

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»é‹ç”¨

- CI/CD:
  - GitHub Actionsã§ã‚³ãƒ³ãƒ†ãƒŠãƒ“ãƒ«ãƒ‰ã€œECRãƒ—ãƒƒã‚·ãƒ¥
  - ArgoCDã§Kubernetesãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã‚’ç¶™ç¶šçš„ã«é©ç”¨
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£:
  - ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚µãƒ–ãƒãƒƒãƒˆå†…ã«ALBã‚’è¨­ç½®ã—ã€CloudFrontçµŒç”±ã§ã‚¢ã‚¯ã‚»ã‚¹
  - Aurora:
    - Serverless v2æ§‹æˆã§æŸ”è»Ÿãªã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã«å¯¾å¿œ
    - IAMãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èªè¨¼ã‚’æœ‰åŠ¹åŒ–
    - ãƒã‚¹ã‚¿ãƒ¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯Secrets Managerã§è‡ªå‹•ç”Ÿæˆãƒ»ç®¡ç†
    - ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆã‚„ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯Lambdaã‚’ä»‹ã—ã¦å®Ÿè¡Œ
- é€šä¿¡ãƒ—ãƒ­ãƒˆã‚³ãƒ«:
  - Connectã‚’åˆ©ç”¨ã—ã¦ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹é–“é€šä¿¡ã‚’å®Ÿè£…

---

## ğŸ“„ å‚™è€ƒ

- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨BFFã¯CORSå¯¾å¿œæ¸ˆã¿
